(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{16:function(t,e,n){t.exports={filter:"Filter_filter__2XuPd",filterInput:"Filter_filterInput__1ByQr",filterTitle:"Filter_filterTitle__10kzn"}},21:function(t,e,n){t.exports={ListContactItem:"Listcontact_ListContactItem__3zi4V",buttonDeleteContact:"Listcontact_buttonDeleteContact__3rQcF"}},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var c,a,o=n(1),r=n(0),u=n.n(r),s=n(10),i=n.n(s),l=n(7),b=n(13),d=n(2),f=n(3),j=n(5),m=Object(d.b)("contact/addRecuest"),h=Object(d.b)("contact/addSuccess"),C=Object(d.b)("contact/addError"),O=Object(d.b)("contact/fetchRecuest"),p=Object(d.b)("contact/fetchSuccess"),g=Object(d.b)("contact/fetchError"),x=Object(d.b)("contact/deleteContactRecuest"),S=Object(d.b)("contact/deleteContactSuccess"),y=Object(d.b)("contact/deleteContactError"),v={filterContact:Object(d.b)("contact/filter"),addContactRecuest:m,addContactSuccess:h,fetchContactSuccess:p,fetchContactRecuest:O,fetchContactError:g,deleteContactRecuest:x,deleteContactSuccess:S,deleteContactError:y,addContactError:C},_=Object(d.c)([],(c={},Object(f.a)(c,v.fetchContactSuccess,(function(t,e){return e.payload})),Object(f.a)(c,v.addContactSuccess,(function(t,e){var n=e.payload,c=t.some((function(t){return t.number===n.number}));return!c&&n.name&&n.number?[].concat(Object(b.a)(t),[n]):(c&&alert("\u0442\u0430\u043a\u0438\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0432\u0436\u0435 \u0454"),""!==n.name&&""!==n.number||alert("\u0432\u043d\u0435\u0441\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u0456"),t)})),Object(f.a)(c,v.deleteContactSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),F=Object(d.c)(!1,(a={},Object(f.a)(a,v.fetchContactRecuest,(function(){return!0})),Object(f.a)(a,v.addContactRecuest,(function(){return!0})),Object(f.a)(a,v.deleteContactRecuest,(function(){return!0})),Object(f.a)(a,v.fetchContactSuccess,(function(){return!1})),Object(f.a)(a,v.addContactSuccess,(function(){return!1})),Object(f.a)(a,v.deleteContactSuccess,(function(){return!1})),Object(f.a)(a,v.fetchContactError,(function(){return!1})),Object(f.a)(a,v.addContactError,(function(){return!1})),Object(f.a)(a,v.deleteContactError,(function(){return!1})),a)),R=Object(d.c)("",Object(f.a)({},v.filterContact,(function(t,e){return e.payload}))),E=Object(j.c)({itemContacts:_,filter:R,loading:F}),I=Object(d.d)(),L=Object(d.a)({reducer:{allContacts:E},middleware:Object(b.a)(I)}),N=n(11),k=n(12),w=n(15),A=n(14),D=n(8),T=n.n(D);T.a.defaults.baseURL="https://my-json-server.typicode.com/igormazur78.github.io/goit-react-hw-07-phonebook/",T.a.defaults.headers={"Access-Control-Allow-Origin":"*"};var B={addContacts:function(t,e){return function(n){n(v.addContactRecuest()),T.a.post("/contacts",{name:t,number:e}).then((function(t){n(v.addContactSuccess(t.data))})).catch((function(t){return n(v.addContactError(t))}))}},fetchContacts:function(){return function(t){t(v.fetchContactRecuest()),T.a.get("/contacts").then((function(e){console.log(e.data),t(v.fetchContactSuccess(e.data))})).catch((function(e){return t(v.fetchContactError(e))}))}},deleteContacts:function(t){return function(e){e(v.deleteContactRecuest()),T.a.delete("/contacts/".concat(t)).then((function(){return e(v.deleteContactSuccess(t))})).catch((function(t){return e(v.deleteContactError(t))}))}}},V=n(9),z=n.n(V),G=function(t){Object(w.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(N.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handelInputChange=function(e){e.preventDefault(),t.setState(Object(f.a)({},e.target.name,e.target.value))},t.handelSubmit=function(e){e.preventDefault(),t.props.onhandleAddContact(t.state.name,t.state.number),t.setState({name:"",number:""})},t}return Object(k.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(o.jsxs)("div",{className:z.a.formStyle,children:[Object(o.jsx)("h2",{className:z.a.formStyleTitle,children:"Phonebook"}),Object(o.jsxs)("form",{className:z.a.formStyleFormInput,onSubmit:this.handelSubmit,children:[Object(o.jsxs)("label",{children:["Name",Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",name:"name",value:e,onChange:this.handelInputChange,placeholder:"Add name",autoFocus:!0}),Object(o.jsx)("br",{})]}),Object(o.jsxs)("label",{children:["Number",Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",name:"number",value:n,onChange:this.handelInputChange,placeholder:"Add number",autoFocus:!0})]}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:z.a.formStyleFormButton,type:"submit",children:"Add contact"})]})]})}}]),n}(r.Component),J=Object(l.b)(null,(function(t){return{onhandleAddContact:function(e,n){return t(B.addContacts(e,n))}}}))(G),M=n(6),P=function(t){return t.allContacts.itemContacts},Q=function(t){return t.allContacts.filter},U={getitemContacts:P,getFilter:Q,getLoading:function(t){return t.allContacts.loading},getVisibleContact:Object(M.a)([P,Q],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},X=n(21),Z=n.n(X);n(59);var q={onDeleteContact:B.deleteContacts},H=Object(l.b)((function(t){return{contact:U.getVisibleContact(t)}}),q)((function(t){var e=t.contact,n=t.onDeleteContact;return Object(o.jsx)("ul",{children:e.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(o.jsxs)("li",{className:Z.a.ListContactItem,children:[Object(o.jsxs)("span",{children:[c,":"]}),Object(o.jsx)("span",{children:a}),Object(o.jsx)("button",{className:Z.a.buttonDeleteContact,onClick:function(){return n(e)}})]},e)}))})})),K=n(16),W=n.n(K);var Y={onChange:v.filterContact},$=Object(l.b)((function(t){return{value:U.getFilter(t)}}),Y)((function(t){var e=t.value,n=t.onChange;return Object(o.jsxs)("form",{className:W.a.filter,children:[Object(o.jsx)("h2",{className:W.a.filterTitle,children:"Find contacts by name"}),Object(o.jsx)("input",{className:W.a.filterInput,type:"text",name:"filter",value:e,onChange:function(t){return n(t.target.value)}})]})})),tt=function(t){Object(w.a)(n,t);var e=Object(A.a)(n);function n(){return Object(N.a)(this,n),e.apply(this,arguments)}return Object(k.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContact()}},{key:"render",value:function(){return Object(o.jsxs)("div",{className:"App",children:[this.props.isLoadingContacts&&Object(o.jsx)("h1",{children:"LOADING ..."}),Object(o.jsx)(J,{}),Object(o.jsx)($,{}),Object(o.jsx)(H,{})]})}}]),n}(r.Component),et=Object(l.b)((function(t){return{isLoadingContacts:U.getLoading(t)}}),(function(t){return{onFetchContact:function(){return t(B.fetchContacts())}}}))(tt);i.a.render(Object(o.jsx)(u.a.StrictMode,{children:Object(o.jsx)(l.a,{store:L,children:Object(o.jsx)(et,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={formStyle:"Form_formStyle__2sFE-",formStyleTitle:"Form_formStyleTitle__3yhRj",formStyleFormInput:"Form_formStyleFormInput__oGjRj",formStyleFormButton:"Form_formStyleFormButton__VZg1j"}}},[[60,1,2]]]);
//# sourceMappingURL=main.3432a8be.chunk.js.map