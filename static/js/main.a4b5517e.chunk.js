(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={filter:"Filter_filter__2XuPd",filterInput:"Filter_filterInput__1ByQr",filterTitle:"Filter_filterTitle__10kzn"}},17:function(t,e,n){t.exports={ListContactItem:"Listcontact_ListContactItem__3zi4V",buttonDeleteContact:"Listcontact_buttonDeleteContact__3rQcF"}},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var c,a,o=n(1),r=n(0),u=n.n(r),s=n(10),l=n.n(s),i=n(7),b=n(11),d=n(2),f=n(3),j=n(5),m=Object(d.b)("contact/addRecuest"),h=Object(d.b)("contact/addSuccess"),C=Object(d.b)("contact/addError"),O=Object(d.b)("contact/fetchRecuest"),p=Object(d.b)("contact/fetchSuccess"),x=Object(d.b)("contact/fetchError"),S=Object(d.b)("contact/deleteContactRecuest"),g=Object(d.b)("contact/deleteContactSuccess"),v=Object(d.b)("contact/deleteContactError"),_={filterContact:Object(d.b)("contact/filter"),addContactRecuest:m,addContactSuccess:h,fetchContactSuccess:p,fetchContactRecuest:O,fetchContactError:x,deleteContactRecuest:S,deleteContactSuccess:g,deleteContactError:v,addContactError:C},y=function(t,e){var n=e.payload,c=t.some((function(t){return t.number===n.number}));return!c&&n.name&&n.number?[].concat(Object(b.a)(t),[n]):(c&&alert("\u0442\u0430\u043a\u0438\u0439 \u043a\u043e\u043d\u0442\u0430\u043a\u0442 \u0432\u0436\u0435 \u0454"),""!==n.name&&""!==n.number||alert("\u0432\u043d\u0435\u0441\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u0456"),t)},F=Object(d.c)([],(c={},Object(f.a)(c,_.fetchContactSuccess,y),Object(f.a)(c,_.addContactSuccess,y),Object(f.a)(c,_.deleteContactSuccess,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),R=Object(d.c)(!1,(a={},Object(f.a)(a,_.fetchContactRecuest,(function(){return!0})),Object(f.a)(a,_.addContactRecuest,(function(){return!0})),Object(f.a)(a,_.deleteContactRecuest,(function(){return!0})),Object(f.a)(a,_.fetchContactSuccess,(function(){return!1})),Object(f.a)(a,_.addContactSuccess,(function(){return!1})),Object(f.a)(a,_.deleteContactSuccess,(function(){return!1})),Object(f.a)(a,_.fetchContactError,(function(){return!1})),Object(f.a)(a,_.addContactError,(function(){return!1})),Object(f.a)(a,_.deleteContactError,(function(){return!1})),a)),E=Object(d.c)("",Object(f.a)({},_.filterContact,(function(t,e){return e.payload}))),I=Object(j.c)({itemContacts:F,filter:E,loading:R}),L=Object(d.d)(),N=Object(d.a)({reducer:{allContacts:I},middleware:Object(b.a)(L)}),k=n(27),w=n(28),A=n(30),D=n(29),T=n(8),B=n.n(T);B.a.defaults.baseURL="http://localhost:2000";var V={addContacts:function(t,e){return function(n){n(_.addContactRecuest()),B.a.post("/contacts",{name:t,number:e}).then((function(t){n(_.addContactSuccess(t.data))})).catch((function(t){return n(_.addContactError(t))}))}},fetchContacts:function(){return function(t){t(_.fetchContactRecuest()),B.a.post("/contacts").then((function(e){console.log(e),t(_.fetchContactSuccess(e.data))})).catch((function(e){return t(_.fetchContactError(e))}))}},deleteContacts:function(t){return function(e){e(_.deleteContactRecuest()),B.a.delete("/contacts/".concat(t)).then((function(){return e(_.deleteContactSuccess(t))})).catch((function(t){return e(_.deleteContactError(t))}))}}},z=n(9),G=n.n(z),J=function(t){Object(A.a)(n,t);var e=Object(D.a)(n);function n(){var t;Object(k.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handelInputChange=function(e){e.preventDefault(),t.setState(Object(f.a)({},e.target.name,e.target.value))},t.handelSubmit=function(e){e.preventDefault(),t.props.onhandleAddContact(t.state.name,t.state.number),t.setState({name:"",number:""})},t}return Object(w.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(o.jsxs)("div",{className:G.a.formStyle,children:[Object(o.jsx)("h2",{className:G.a.formStyleTitle,children:"Phonebook"}),Object(o.jsxs)("form",{className:G.a.formStyleFormInput,onSubmit:this.handelSubmit,children:[Object(o.jsxs)("label",{children:["Name",Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",name:"name",value:e,onChange:this.handelInputChange,placeholder:"Add name",autoFocus:!0}),Object(o.jsx)("br",{})]}),Object(o.jsxs)("label",{children:["Number",Object(o.jsx)("br",{}),Object(o.jsx)("input",{type:"text",name:"number",value:n,onChange:this.handelInputChange,placeholder:"Add number",autoFocus:!0})]}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:G.a.formStyleFormButton,type:"submit",children:"Add contact"})]})]})}}]),n}(r.Component),P=Object(i.b)(null,(function(t){return{onhandleAddContact:function(e,n){return t(V.addContacts(e,n))}}}))(J),Q=n(6),M=function(t){return t.allContacts.itemContacts},U=function(t){return t.allContacts.filter},X={getitemContacts:M,getFilter:U,getLoading:function(t){return t.allContacts.loading},getVisibleContact:Object(Q.a)([M,U],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},Z=n(17),q=n.n(Z);n(59);var H={onDeleteContact:V.deleteContacts},K=Object(i.b)((function(t){return{contact:X.getVisibleContact(t)}}),H)((function(t){var e=t.contact,n=t.onDeleteContact;return Object(o.jsx)("ul",{children:e.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(o.jsxs)("li",{className:q.a.ListContactItem,children:[Object(o.jsxs)("span",{children:[c,":"]}),Object(o.jsx)("span",{children:a}),Object(o.jsx)("button",{className:q.a.buttonDeleteContact,onClick:function(){return n(e)}})]},e)}))})})),W=n(12),Y=n.n(W);var $={onChange:_.filterContact},tt=Object(i.b)((function(t){return{value:X.getFilter(t)}}),$)((function(t){var e=t.value,n=t.onChange;return Object(o.jsxs)("form",{className:Y.a.filter,children:[Object(o.jsx)("h2",{className:Y.a.filterTitle,children:"Find contacts by name"}),Object(o.jsx)("input",{className:Y.a.filterInput,type:"text",name:"filter",value:e,onChange:function(t){return n(t.target.value)}})]})}));var et={onFetchContact:V.fetchContacts},nt=Object(i.b)((function(t){return{isLoadingContacts:X.getLoading(t)}}),et)((function(t){var e=t.isLoadingContacts;return Object(o.jsxs)("div",{className:"App",children:[e&&Object(o.jsx)("h1",{children:"LOADING ..."}),Object(o.jsx)(P,{}),Object(o.jsx)(tt,{}),Object(o.jsx)(K,{})]})}));l.a.render(Object(o.jsx)(u.a.StrictMode,{children:Object(o.jsx)(i.a,{store:N,children:Object(o.jsx)(nt,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={formStyle:"Form_formStyle__2sFE-",formStyleTitle:"Form_formStyleTitle__3yhRj",formStyleFormInput:"Form_formStyleFormInput__oGjRj",formStyleFormButton:"Form_formStyleFormButton__VZg1j"}}},[[60,1,2]]]);
//# sourceMappingURL=main.a4b5517e.chunk.js.map